(function(e){function t(t){for(var n,i,o=t[0],c=t[1],u=t[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&f.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(f.length)f.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==s[c]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},s={app:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0d05":function(e,t,r){},"0ddb":function(e,t,r){"use strict";var n=r("2962"),s=r.n(n);s.a},"0f20":function(e,t,r){"use strict";var n=r("a519"),s=r.n(n);s.a},"127f":function(e,t,r){e.exports=r.p+"img/2-star.1302fd31.png"},"12b2":function(e,t,r){},"1cce":function(e,t,r){"use strict";var n=r("5113"),s=r.n(n);s.a},"1d27":function(e,t,r){"use strict";var n=r("30df"),s=r.n(n);s.a},"1fe3":function(e,t,r){},2962:function(e,t,r){},2993:function(e,t,r){"use strict";var n=r("8c6d"),s=r.n(n);s.a},"2c0e":function(e,t,r){e.exports=r.p+"img/0-star.47c1b5c0.png"},"30df":function(e,t,r){},"31c7":function(e,t,r){"use strict";var n=r("94f5"),s=r.n(n);s.a},3644:function(e,t,r){},"419f":function(e,t,r){e.exports=r.p+"img/4-star.dc5e0ad8.png"},"4eb2":function(e,t,r){"use strict";var n=r("1fe3"),s=r.n(n);s.a},"4ee9":function(e,t,r){e.exports=r.p+"img/3-star.8d948baf.png"},5113:function(e,t,r){},"526e":function(e,t,r){e.exports=r.p+"img/te.1106d7a0.png"},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"nav"},[r("meta",{attrs:{name:"viewport",content:"width=device-width, initial-scale=1.0"}}),r("meta",{attrs:{charset:"utf-8"}}),r("link",{attrs:{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css",integrity:"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh",crossorigin:"anonymous"}}),r("div",{staticClass:"nav container-fluid"},[e.user?r("div",{staticClass:"log"},[e._v("\n        Logged in\n        "),r("button",{on:{click:e.logout}},[e._v("Logout")])]):r("div",{staticClass:"log"},[r("div",[r("router-link",{attrs:{tag:"button",to:{name:"login"}}},[e._v("Login")]),r("router-link",{attrs:{tag:"button",to:{name:"register"}}},[e._v("Register")])],1)]),e.user?r("router-link",{staticClass:"navibar",attrs:{tag:"button",to:{name:"home"}}},[e._v("Home")]):e._e(),e.user?r("router-link",{staticClass:"navibar",attrs:{tag:"button",to:{name:"breweryList"}}},[e._v("Brewery List")]):e._e(),e.user&&"Admin"===e.user.rol?r("router-link",{staticClass:"navibar",attrs:{tag:"button",to:{name:"breweryAdd"}}},[e._v("Add a new Brewery")]):e._e(),e.user&&"Admin"===e.user.rol?r("router-link",{staticClass:"navibar",attrs:{tag:"button",to:{name:"accountUpdate"}}},[e._v("Update Account")]):e._e(),!e.user||"Admin"!==e.user.rol&&"Brewer"!==e.user.rol?e._e():r("router-link",{staticClass:"navibar",attrs:{tag:"button",to:{name:"breweryInfoUpdate"}}},[e._v("Update Brewery")]),!e.user||"Admin"!==e.user.rol&&"Brewer"!==e.user.rol?e._e():r("router-link",{staticClass:"navibar",attrs:{tag:"button",to:{name:"beerAdd"}}},[e._v("Add a Beer")]),!e.user||"Admin"!==e.user.rol&&"Brewer"!==e.user.rol&&"User"!==e.user.rol?e._e():r("router-link",{staticClass:"navibar",attrs:{tag:"button",to:{name:"viewRatings"}}},[e._v("View Ratings")])],1)]),r("router-view",{staticClass:"routerView container-fluid",attrs:{user:this.user}})],1)},a=[],i=(r("a481"),r("28a5"),{getToken:function(){try{return localStorage.getItem("Authorization")}catch(e){return null}},saveToken:function(e){localStorage.setItem("Authorization",e)},destroyToken:function(){localStorage.removeItem("Authorization")},getUser:function(){var e=localStorage.getItem("Authorization"),t=null;if(e){var r=e.split(".")[1],n=r.replace(/-/g,"+").replace(/_/g,"/"),s=new Date/1e3,a=JSON.parse(window.atob(n));s>a.exp?this.destroyToken():(t=a,console.log(t))}return t},logout:function(){localStorage.removeItem("Authorization")}}),o={data:function(){return{user:null}},methods:{logout:function(){i.logout(),this.$router.push("/login"),this.user=null}},created:function(){this.user=i.getUser()},watch:{$route:function(){this.user=i.getUser()}}},c=o,u=(r("5e1f"),r("2877")),l=Object(u["a"])(c,s,a,!1,null,"8c927d48",null),d=l.exports,f=(r("759f"),r("8c4f")),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"base"},[r("div",{staticClass:"home mx-auto"},[r("h1",[e._v("Home")]),r("div",{staticClass:"text"},[e._v("\n      Welcome "+e._s(e.user.sub)+", to the best craft beer website on the net. Your current role on this site is "+e._s(e.user.rol)+".\n      Please enjoy searching for breweries and their beers. Feel free to rate and leave comments on beers you might have tried in the past.\n      Thank you for your patronage.\n    ")]),e._m(0)])])},p=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{staticClass:"te",attrs:{src:r("526e")}})])}],v={name:"home",data:function(){return{user:null}},methods:{},created:function(){this.user=i.getUser()}},b=v,h=(r("0ddb"),Object(u["a"])(b,m,p,!1,null,"63cd5bd9",null)),w=h.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"base container-fluid"},[r("div",{staticClass:"text-center login mx-auto",attrs:{id:"login"}},[r("form",{staticClass:"form-signin form",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[r("h1",{staticClass:"h3 mb-3 font-weight-normal"},[e._v("Please Sign In")]),e.invalidCredentials?r("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v("Invalid username and password!")]):e._e(),this.$route.query.registration?r("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[e._v("Thank you for registering, please sign in.")]):e._e(),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",id:"username",placeholder:"Username",required:"",autofocus:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),r("router-link",{attrs:{to:{name:"register"},id:"needAccount"}},[e._v("Need an account?")]),r("button",{staticClass:"btn btn-sm btn-primary btn-block center",attrs:{type:"submit"}},[e._v("Sign in")])],1)])])},y=[],_=(r("6762"),r("2fdb"),{name:"login",components:{},data:function(){return{user:{username:"",password:""},invalidCredentials:!1}},methods:{login:function(){var e=this;fetch("".concat("https://breweryfinder.azurewebsites.net/api","/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.user)}).then((function(t){if(t.ok)return t.text();e.invalidCredentials=!0})).then((function(t){void 0!=t&&(t.includes('"')&&(t=t.replace(/"/g,"")),i.saveToken(t),e.$router.push("/"))})).catch((function(e){return console.error(e)}))}}}),B=_,C=(r("e60b"),Object(u["a"])(B,g,y,!1,null,"0fb12edc",null)),x=C.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"base"},[r("div",{staticClass:"register mx-auto"},[r("form",{staticClass:"form-register",on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[r("h1",{staticClass:"h3 mb-3 font-weight-normal"},[e._v("Create Account")]),e.registrationErrors?r("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v("\r\n        There were problems registering this user.\r\n      ")]):e._e(),r("div",{staticClass:"drew"},[r("label",{staticClass:"sr-only",attrs:{for:"username"}},[e._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",id:"username",placeholder:"Username",required:"",autofocus:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),r("div",{staticClass:"drew"},[r("label",{staticClass:"sr-only",attrs:{for:"password"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),r("div",{staticClass:"drew"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.confirmPassword,expression:"user.confirmPassword"}],staticClass:"form-control",attrs:{type:"password",id:"confirmPassword",placeholder:"Confirm Password",required:""},domProps:{value:e.user.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.user,"confirmPassword",t.target.value)}}})]),r("div",{staticClass:"drew"},[r("router-link",{staticClass:"needAccount",attrs:{to:{name:"login"}}},[e._v("\r\n        Have an account?\r\n      ")]),r("button",{staticClass:"btn btn-sm btn-primary btn-block",attrs:{type:"submit"}},[e._v("\r\n        Create Account\r\n      ")])],1)])])])},A=[],$={name:"register",data:function(){return{user:{username:"",password:"",confirmPassword:"",role:"user"},registrationErrors:!1}},methods:{register:function(){var e=this;fetch("".concat("https://breweryfinder.azurewebsites.net/api","/register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.user)}).then((function(t){t.ok?e.$router.push({path:"/login",query:{registration:"success"}}):e.registrationErrors=!0})).then((function(e){return console.error(e)}))}}},j=$,k=(r("31c7"),Object(u["a"])(j,I,A,!1,null,"68c5a12f",null)),N=k.exports,U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"base"},[r("div",{staticClass:"BeerAdd mx-auto"},[r("h1",[e._v("Add a New Beer")]),r("form",[r("div",[e._v("\r\n        Name of Beer:\r\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.beer.name,expression:"beer.name"}],staticClass:"beerInput",attrs:{type:"text",placeholder:"Bob's Beer"},domProps:{value:e.beer.name},on:{input:function(t){t.target.composing||e.$set(e.beer,"name",t.target.value)}}})]),r("div",[e._v("\r\n        Description of Beer:\r\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.beer.description,expression:"beer.description"}],staticClass:"beerInput",attrs:{type:"text",placeholder:"Stuff about your beer"},domProps:{value:e.beer.description},on:{input:function(t){t.target.composing||e.$set(e.beer,"description",t.target.value)}}})]),r("div",[e._v("\r\n        Type of Beer:\r\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.beer.beerType,expression:"beer.beerType"}],staticClass:"beerInput",attrs:{type:"text",placeholder:"Lager"},domProps:{value:e.beer.beerType},on:{input:function(t){t.target.composing||e.$set(e.beer,"beerType",t.target.value)}}})]),r("div",[e._v("\r\n        ABV of Beer:\r\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.beer.abv,expression:"beer.abv"}],staticClass:"beerInput",attrs:{type:"number",placeholder:"9.0",step:"0.1",min:"0",max:"99.9"},domProps:{value:e.beer.abv},on:{input:function(t){t.target.composing||e.$set(e.beer,"abv",t.target.value)}}})]),r("div",[e._v("\r\n        Image of your:\r\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.beer.image,expression:"beer.image"}],staticClass:"beerInput",attrs:{type:"text",placeholder:"Link to your image"},domProps:{value:e.beer.image},on:{input:function(t){t.target.composing||e.$set(e.beer,"image",t.target.value)}}})]),r("div",[e._v("\r\n        Your Brewery ID:\r\n        "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.beer.breweryId,expression:"beer.breweryId"}],on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.beer,"breweryId",t.target.multiple?r:r[0])},function(t){return e.getBrewery(e.chosenId)}]}},e._l(e.breweries,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.id)+" "+e._s(t.name))])})),0)]),e.selectedBrewery?r("div",[r("button",{on:{click:function(t){return t.preventDefault(),e.addBeer(t)}}},[e._v("Submit")])]):e._e()])])])},O=[],P=(r("7f7f"),r("673e"),r("c5f6"),{name:"beerAdd",props:{},data:function(){return{breweries:[],chosenId:Number,selectedBrewery:null,beer:{beerId:0,name:"",description:"",beerType:"",abv:"",breweryId:0,image:""},registrationErrors:!1}},methods:{getBrewery:function(e){var t=this,r="".concat("https://breweryfinder.azurewebsites.net/api","/breweries/").concat(e);fetch(r).then((function(e){e.json().then((function(e){t.selectedBrewery=e}))})).catch((function(e){console.log(e)}))},GetBreweries:function(){var e=this;if("Admin"===this.user.rol){var t="".concat("https://breweryfinder.azurewebsites.net/api","/breweries");fetch(t).then((function(t){t.json().then((function(t){e.breweries=t}))})).catch((function(e){console.log(e)}))}else if("Brewer"===this.user.rol){var r=this.user.sub,n="".concat("https://breweryfinder.azurewebsites.net/api","/breweries/brewer/").concat(r);fetch(n).then((function(t){t.json().then((function(t){e.breweries=t}))})).catch((function(e){console.log(e)}))}},addBeer:function(){var e=this,t="".concat("https://breweryfinder.azurewebsites.net/api","/beers");fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.beer)}).then((function(t){t.ok?t.json().then((function(t){e.beer=t,alert("Beer ".concat(e.beer.name," was added!")),e.beer=""})):alert("There was an error: ".concat(t.status,": ").concat(t.statusText))}))}},created:function(){this.user=i.getUser(),this.GetBreweries()}}),T=P,S=(r("0f20"),Object(u["a"])(T,U,O,!1,null,"5aca96bf",null)),E=S.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"base"},[r("div",{staticClass:"delete mx-auto"},[r("h1",[e._v("Remove "+e._s(e.beer.name)+" from your Beer List")]),r("button",{on:{click:function(t){return t.preventDefault(),e.deleteBeer(t)}}},[e._v("Delete Beer")]),r("router-link",{staticClass:"navibar",attrs:{tag:"button",to:{name:"home"}}},[e._v("Cancel and return to Home")])],1)])},z=[],R={name:"beer",props:{id:Number},data:function(){return{beer:{id:0,name:""}}},methods:{getBeer:function(e){var t=this,r="".concat("https://breweryfinder.azurewebsites.net/api","/beers/").concat(e);fetch(r).then((function(e){e.json().then((function(e){t.beer=e}))})).catch((function(e){console.log(e)}))},deleteBeer:function(){var e=this,t="".concat("https://breweryfinder.azurewebsites.net/api","/beers/").concat(this.beer.id);fetch(t,{method:"DELETE"}).then((function(t){t.ok?(alert("Beer has been DELETED!"),e.$router.push({name:"breweryList"})):alert("There was an issue Deleting this beer: ".concat(t.status,": ").concat(t.statusText))}))}},created:function(){this.getBeer(this.$route.params.id),this.user=i.getUser()}},L=R,q=(r("e064"),Object(u["a"])(L,D,z,!1,null,"6e5e87cd",null)),G=q.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base"},[n("div",{staticClass:"beer mx-auto"},[n("h1",[e._v(e._s(e.beer.name))]),""+e.beer.image!=""?n("img",{attrs:{src:""+e.beer.image}}):e._e(),n("p",[e._v(e._s(e.beer.description))]),n("table",{staticClass:"form"},[n("tr",[n("td",{staticStyle:{"font-weight":"bold"}},[e._v("Beer Type")]),n("td",[e._v(e._s(e.beer.beerType))])]),n("tr",[n("td",{staticStyle:{"font-weight":"bold"}},[e._v("Beer ABV")]),n("td",[e._v(e._s(e.beer.abv)+"%")])]),n("tr",[n("td",{staticStyle:{"font-weight":"bold"}},[e._v("Beer's Average Rating")]),n("td",[n("img",{staticClass:"stars",attrs:{src:r("6dfa")("./"+e.beer.avgRating+"-star.png")}})])])]),n("router-link",{attrs:{tag:"button",to:{name:"ratingsAndReviews",params:{id:e.beer.id}}}},[e._v("Rate: "+e._s(e.beer.name))]),!e.user||"Admin"!==e.user.rol&&"Brewer"!==e.user.rol?e._e():n("router-link",{staticClass:"navibar",attrs:{tag:"button",to:{name:"deleteBeer"}}},[e._v("Delete Beer")])],1)])},J=[],V={name:"beer",props:{id:Number},data:function(){return{beer:{id:0,name:"",discription:"",beerType:"",abv:"",avgRating:0}}},methods:{getBeer:function(e){var t=this,r="".concat("https://breweryfinder.azurewebsites.net/api","/beers/").concat(e);fetch(r).then((function(e){e.json().then((function(e){t.beer=e}))})).catch((function(e){console.log(e)}))}},created:function(){this.getBeer(this.$route.params.id),this.user=i.getUser()},watch:{$route:function(){this.user=i.getUser()}}},M=V,F=(r("998b"),Object(u["a"])(M,H,J,!1,null,"8b5f2164",null)),W=F.exports,Q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"base"},[r("div",{staticClass:"BreweryAdd mx-auto"},[r("h1",[e._v("Add Brewery")]),r("div",[e._v("Welcome "+e._s(e.user.sub)+", "+e._s(e.user.rol))]),r("form",[r("div",[e._v("\n      Name of Brewery:\n      "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.brewery.name,expression:"brewery.name"}],staticClass:"breweryInput",attrs:{type:"text",placeholder:"Billy Bob's Shine Factory"},domProps:{value:e.brewery.name},on:{input:function(t){t.target.composing||e.$set(e.brewery,"name",t.target.value)}}})]),r("div",[e._v("\n      Name of Head Brewer:\n      "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.brewery.brewer,expression:"brewery.brewer"}],staticClass:"breweryInput",attrs:{type:"text",placeholder:"Billy Bob"},domProps:{value:e.brewery.brewer},on:{input:function(t){t.target.composing||e.$set(e.brewery,"brewer",t.target.value)}}})]),r("div",[e._v("\n      User:\n      "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.brewery.userID,expression:"brewery.userID"}],staticStyle:{width:"30%"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.brewery,"userID",t.target.multiple?r:r[0])},function(t){return e.getUser(e.chosenId)}]}},e._l(e.users,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.username))])})),0)]),r("button",{on:{click:function(t){return t.preventDefault(),e.register(t)}}},[e._v("Submit")])])])])},Y=[],K={name:"breweryAdd",props:{},data:function(){return{selectedUser:null,users:[],chosenId:Number,user:Object,brewery:{breweryID:0,nameOfBrewery:"",HeadBrewer:"",UserID:0,Username:""},registrationErrors:!1}},created:function(){this.user=i.getUser(),this.getBrewers()},methods:{getUser:function(e){var t=this,r="".concat("https://breweryfinder.azurewebsites.net/api","/").concat(e);fetch(r).then((function(e){e.json().then((function(e){t.selectedUser=e}))})).catch((function(e){console.log(e)}))},getBrewers:function(){var e=this,t="".concat("https://breweryfinder.azurewebsites.net/api","/brewers");fetch(t).then((function(t){t.json().then((function(t){e.users=t}))})).catch((function(e){console.log(e)}))},register:function(){var e=this,t="".concat("https://breweryfinder.azurewebsites.net/api","/breweries");fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.brewery)}).then((function(t){t.ok?t.json().then((function(t){e.brewery=t,alert("Brewery with id ".concat(e.brewery.id," was added!")),e.$router.push({name:"breweryList"})})):alert("There was an error: ".concat(t.status,": ").concat(t.statusText))}))}}},X=K,Z=(r("1cce"),Object(u["a"])(X,Q,Y,!1,null,"f91d4e12",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"base"},[r("div",{staticClass:"brewery mx-auto"},[r("h1",[e._v(e._s(e.brewery.name))]),""+e.brewery.images!=""?r("img",{attrs:{src:""+e.brewery.images}}):e._e(),r("p",[e._v(e._s(e.brewery.history))]),r("table",{staticClass:"form"},[r("tr",[r("td",{staticStyle:{"font-weight":"bold"}},[e._v("Name")]),r("td",[e._v(e._s(e.brewery.name))])]),r("tr",[r("td",{staticStyle:{"font-weight":"bold"}},[e._v("Address")]),r("td",[e._v(e._s(e.brewery.address))])]),r("tr",[r("td",{staticStyle:{"font-weight":"bold"}},[e._v("Contact Info")]),r("td",[e._v(e._s(e.brewery.contactInfo))])]),r("tr",[r("td",{staticStyle:{"font-weight":"bold"}},[e._v("Hours of Opperation")]),r("td",[e._v(e._s(e.brewery.hours))])])]),r("router-link",{attrs:{tag:"button",to:{name:"beerList",params:{id:e.brewery.id}}}},[e._v(e._s(e.brewery.name)+" Beer List")])],1)])},re=[],ne={name:"brewery",props:{id:Number},data:function(){return{brewery:{id:0,name:"",contact:"",daysHours:"",picture:"",address:"",history:""},user:Object}},methods:{getBrewery:function(e){var t=this,r="".concat("https://breweryfinder.azurewebsites.net/api","/breweries/").concat(e);fetch(r).then((function(e){e.json().then((function(e){t.brewery=e}))})).catch((function(e){console.log(e)}))}},created:function(){this.getBrewery(this.$route.params.id),this.user=this.$attrs.user}},se=ne,ae=(r("5ef4"),Object(u["a"])(se,te,re,!1,null,"c745d93c",null)),ie=ae.exports,oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"base"},[r("div",{staticClass:"BreweryInfoUpdate mx-auto"},[r("h1",[e._v("Update Brewery Info")]),r("form",[r("div",[e._v("\n        Brewery Name:\n        "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.chosenId,expression:"chosenId"}],on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.chosenId=t.target.multiple?r:r[0]},function(t){return e.getBrewery(e.chosenId)}]}},e._l(e.breweries,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)]),e.selectedBrewery?r("div",{staticClass:"infoList"},[r("div",[e._v("\n          Days/Hours of Operation:\n          "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBrewery.hours,expression:"selectedBrewery.hours"}],staticClass:"breweryInput",attrs:{type:"text"},domProps:{value:e.selectedBrewery.hours},on:{input:function(t){t.target.composing||e.$set(e.selectedBrewery,"hours",t.target.value)}}})]),r("div",[e._v("\n          Contact Information:\n          "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBrewery.contactInfo,expression:"selectedBrewery.contactInfo"}],staticClass:"breweryInput",attrs:{type:"text"},domProps:{value:e.selectedBrewery.contactInfo},on:{input:function(t){t.target.composing||e.$set(e.selectedBrewery,"contactInfo",t.target.value)}}})]),r("div",[e._v("\n          Address:\n          "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBrewery.address,expression:"selectedBrewery.address"}],staticClass:"breweryInput",attrs:{type:"text"},domProps:{value:e.selectedBrewery.address},on:{input:function(t){t.target.composing||e.$set(e.selectedBrewery,"address",t.target.value)}}})]),r("div",[e._v("\n          History:\n          "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.selectedBrewery.history,expression:"selectedBrewery.history"}],staticClass:"breweryInput history",attrs:{type:"text"},domProps:{value:e.selectedBrewery.history},on:{input:function(t){t.target.composing||e.$set(e.selectedBrewery,"history",t.target.value)}}})]),r("div",[e._v("\n          Brewery Images:\n          "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBrewery.images,expression:"selectedBrewery.images"}],staticClass:"breweryInput",attrs:{type:"text"},domProps:{value:e.selectedBrewery.images},on:{input:function(t){t.target.composing||e.$set(e.selectedBrewery,"images",t.target.value)}}})]),r("div",[e._v("\n          Active/Inactive:\n          "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedBrewery.isActive,expression:"selectedBrewery.isActive"}],staticClass:"breweryInput",attrs:{type:"text"},domProps:{value:e.selectedBrewery.isActive},on:{input:function(t){t.target.composing||e.$set(e.selectedBrewery,"isActive",t.target.value)}}})]),r("button",{on:{click:function(t){return t.preventDefault(),e.saveBrewery(t)}}},[e._v("Edit Selected Brewery")])]):e._e()])])])},ce=[],ue={name:"breweryInfoUpdate",props:{},data:function(){return{selectedBrewery:null,breweries:[],chosenId:Number,user:Object}},methods:{getBrewery:function(e){var t=this,r="".concat("https://breweryfinder.azurewebsites.net/api","/breweries/").concat(e);fetch(r).then((function(e){e.json().then((function(e){t.selectedBrewery=e}))})).catch((function(e){console.log(e)}))},GetBreweries:function(){var e=this;if("Admin"===this.user.rol){var t="".concat("https://breweryfinder.azurewebsites.net/api","/breweries");fetch(t).then((function(t){t.json().then((function(t){e.breweries=t}))})).catch((function(e){console.log(e)}))}else if("Brewer"===this.user.rol){var r=this.user.sub,n="".concat("https://breweryfinder.azurewebsites.net/api","/breweries/brewer/").concat(r);fetch(n).then((function(t){t.json().then((function(t){e.breweries=t}))})).catch((function(e){console.log(e)}))}},saveBrewery:function(){var e=this,t="".concat("https://breweryfinder.azurewebsites.net/api","/breweries/").concat(this.selectedBrewery.id);fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.selectedBrewery)}).then((function(t){t.ok?(alert("Brewery has been updated!"),e.$router.push("/breweries/breweryInfo/".concat(e.selectedBrewery.id))):alert("There was an error updating: ".concat(t.status,": ").concat(t.statusText))}))}},created:function(){this.user=this.$attrs.user,this.GetBreweries()}},le=ue,de=(r("7b71"),Object(u["a"])(le,oe,ce,!1,null,"dc156d9c",null)),fe=de.exports,me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"base"},[r("div",{staticClass:"breweryList mx-auto"},[r("h1",[e._v("Brewery List")]),r("brewery-list",{staticClass:"brewlist",attrs:{breweries:e.breweries}})],1)])},pe=[],ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("table",[e._m(0),r("tbody",e._l(e.breweries,(function(t){return r("tr",{key:t.id},[r("td",[e._v(e._s(t.id))]),r("td",[r("router-link",{attrs:{to:{name:"breweryInfo",params:{id:t.id}}}},[e._v(e._s(t.name))])],1),r("td",[e._v(e._s(t.brewer))])])})),0)])},be=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("td",[e._v("Id")]),r("td",[e._v("Name")]),r("td",[e._v("Brewer")])])])}],he={name:"brewery-list",props:{breweries:Array},data:function(){return{}},methods:{},computed:{}},we=he,ge=Object(u["a"])(we,ve,be,!1,null,null,null),ye=ge.exports,_e={name:"breweries",components:{"brewery-list":ye},data:function(){return{user:null,breweries:[]}},methods:{GetBreweries:function(){var e=this,t="".concat("https://breweryfinder.azurewebsites.net/api","/breweries");fetch(t).then((function(t){t.json().then((function(t){e.breweries=t}))})).catch((function(e){console.log(e)}))}},created:function(){this.user=i.getUser(),this.GetBreweries()}},Be=_e,Ce=(r("4eb2"),Object(u["a"])(Be,me,pe,!1,null,"1dc4f2bc",null)),xe=Ce.exports,Ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"base container-fluid"},[r("div",{staticClass:"home mx-auto"},[r("h1",[e._v("Rate "+e._s(e.beer.name))]),r("form",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.review.beerID,expression:"review.beerID"}],attrs:{type:"hidden"},domProps:{value:e.review.beerID},on:{input:function(t){t.target.composing||e.$set(e.review,"beerID",t.target.value)}}}),r("div",[e._v("Name of Beer: "+e._s(e.beer.name))]),r("div",[e._v("\n        Beer Rating (out of 5):\n        "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.review.rating,expression:"review.rating"}],staticClass:"ratingInput",attrs:{type:"number",placeholder:"1",min:"1",max:"5"},domProps:{value:e.review.rating},on:{input:function(t){t.target.composing||e.$set(e.review,"rating",t.target.value)}}})]),r("div",{staticClass:"comments"},[e._v("\n        Comments:\n        ")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.review.review,expression:"review.review"}],staticClass:"ratingInput textarea",attrs:{type:"text",rows:"4",cols:"40",placeholder:"Enter your comments here."},domProps:{value:e.review.review},on:{input:function(t){t.target.composing||e.$set(e.review,"review",t.target.value)}}}),r("div",[r("button",{on:{click:function(t){return t.preventDefault(),e.addReview(t)}}},[e._v("Submit")])])])])])},Ae=[],$e={name:"beer",props:{id:Number},data:function(){return{beer:{id:0,name:""},review:{id:0,beerID:0,rating:0,review:""}}},methods:{getBeer:function(e){var t=this,r="".concat("https://breweryfinder.azurewebsites.net/api","/beers/").concat(e);fetch(r).then((function(e){e.json().then((function(e){t.beer=e,t.review.beerID=t.beer.id}))})).catch((function(e){console.log(e)}))},addReview:function(){var e=this,t="".concat("https://breweryfinder.azurewebsites.net/api","/reviews");fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.review)}).then((function(t){t.ok?t.json().then((function(t){e.review=t,alert("Review for ".concat(e.beer.name," was added!")),e.$router.push({name:"home"})})):alert("There was an error: ".concat(t.status,": ").concat(t.statusText))}))}},created:function(){this.getBeer(this.$route.params.id),this.user=this.$attrs.user}},je=$e,ke=(r("2993"),Object(u["a"])(je,Ie,Ae,!1,null,"3cfeb8e4",null)),Ne=ke.exports,Ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"base"},[r("div",{staticClass:"beerList mx-auto"},[r("h1",[e._v("Beer List")]),r("beer-list",{staticClass:"beer",attrs:{beers:e.beers}})],1)])},Oe=[],Pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("table",[e._m(0),r("tbody",e._l(e.beers,(function(t){return r("tr",{key:t.id},[r("td",[r("router-link",{attrs:{to:{name:"beerInfo",params:{id:t.id}}}},[e._v(e._s(t.name))])],1),r("td",[e._v(e._s(t.beerType))]),r("td",[e._v(e._s(t.abv)+"%")])])})),0)])},Te=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("td",[e._v("Name")]),r("td",[e._v("Type")]),r("td",[e._v("ABV")])])])}],Se={name:"beer-list",props:{beers:Array},data:function(){return{}},methods:{},computed:{}},Ee=Se,De=Object(u["a"])(Ee,Pe,Te,!1,null,null,null),ze=De.exports,Re={name:"beers",components:{"beer-list":ze},data:function(){return{beers:[]}},methods:{GetBeers:function(e){var t=this,r="".concat("https://breweryfinder.azurewebsites.net/api","/beers?breweryID=").concat(e);fetch(r).then((function(e){e.json().then((function(e){t.beers=e}))})).catch((function(e){console.log(e)}))}},created:function(){this.GetBeers(this.$route.params.id),this.user=i.getUser()}},Le=Re,qe=(r("6a22"),Object(u["a"])(Le,Ue,Oe,!1,null,"5ddab0b4",null)),Ge=qe.exports,He=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"base"},[r("div",{staticClass:"AccountUpdate mx-auto"},[r("h1",[e._v("Update Account")]),r("form",[r("div",[e._v("\n        Username:\n        "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.chosenId,expression:"chosenId"}],staticStyle:{width:"30%"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.chosenId=t.target.multiple?r:r[0]},function(t){return e.getUser(e.chosenId)}]}},e._l(e.users,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.username))])})),0)]),e.selectedUser?r("div",[r("div",[e._v("\n        Role:\n        "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedUser.role,expression:"selectedUser.role"}],staticClass:"userInput",staticStyle:{width:"30%"},attrs:{type:"text"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.selectedUser,"role",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"User"}},[e._v("Beer Lover")]),r("option",{attrs:{value:"Brewer"}},[e._v("Brewer")])])]),r("button",{on:{click:function(t){return t.preventDefault(),e.saveUser(t)}}},[e._v("Edit Selected User")])]):e._e()])])])},Je=[],Ve={name:"accountUpdate",props:{},data:function(){return{selectedUser:null,users:[],chosenId:Number,user:Object}},methods:{getUser:function(e){var t=this,r="".concat("https://breweryfinder.azurewebsites.net/api","/").concat(e);fetch(r).then((function(e){e.json().then((function(e){t.selectedUser=e}))})).catch((function(e){console.log(e)}))},getUsers:function(){var e=this,t="".concat("https://breweryfinder.azurewebsites.net/api","/");fetch(t).then((function(t){t.json().then((function(t){e.users=t}))})).catch((function(e){console.log(e)}))},saveUser:function(){var e=this,t="".concat("https://breweryfinder.azurewebsites.net/api","/").concat(this.selectedUser.id);fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.selectedUser)}).then((function(t){t.ok?(alert("User has been updated!"),e.chosenId=0,e.selectedUser=null):alert("There was an error updating: ".concat(t.status,": ").concat(t.statusText))}))}},created:function(){this.user=this.$attrs.user,this.getUsers()}},Me=Ve,Fe=(r("1d27"),Object(u["a"])(Me,He,Je,!1,null,"795c7182",null)),We=Fe.exports,Qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"base container-fluid mx-auto"},[r("div",{staticClass:"viewRatings container-fluid mx-auto"},[r("h1",[e._v("View Beer Ratings")]),r("form",[r("div",[e._v("\n        Brewery Name:\n        "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.chosenId,expression:"chosenId"}],on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.chosenId=t.target.multiple?r:r[0]},function(t){return e.getBrewery(e.chosenId)}]}},e._l(e.breweries,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)]),e.selectedBrewery?r("div",{staticClass:"infoList"},[r("button",{on:{click:function(t){return t.preventDefault(),e.GetRatings()}}},[e._v("See Reviews")])]):e._e(),r("div",[r("rating-list",{staticClass:"rating mx-auto",attrs:{ratings:e.ratings}})],1)])])])},Ye=[],Ke=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Ratings and Reviews")]),r("table",[e._m(0),r("tbody",e._l(e.ratings,(function(t){return r("tr",{key:t.id},[r("td",[r("router-link",{attrs:{to:{name:"beerInfo",params:{id:t.beerID}}}},[e._v(e._s(t.beerName))])],1),r("td",[e._v(e._s(t.rating))]),r("td",[e._v(e._s(t.review))])])})),0)])])},Xe=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("td",[e._v("Beer Name")]),r("td",[e._v("Beer Rating")]),r("td",[e._v("Review")])])])}],Ze={name:"rating-list",props:{ratings:Array},data:function(){return{}},methods:{},computed:{}},et=Ze,tt=(r("f9e6"),Object(u["a"])(et,Ke,Xe,!1,null,null,null)),rt=tt.exports,nt={name:"rating",components:{"rating-list":rt},data:function(){return{ratings:[],selectedBrewery:null,breweries:[],chosenId:Number}},methods:{getBrewery:function(e){var t=this,r="".concat("https://breweryfinder.azurewebsites.net/api","/breweries/").concat(e);fetch(r).then((function(e){e.json().then((function(e){t.selectedBrewery=e}))})).catch((function(e){console.log(e)}))},GetBreweries:function(){var e=this,t="".concat("https://breweryfinder.azurewebsites.net/api","/breweries");fetch(t).then((function(t){t.json().then((function(t){e.breweries=t}))})).catch((function(e){console.log(e)}))},GetRatings:function(){var e=this,t="".concat("https://breweryfinder.azurewebsites.net/api","/reviews/brewery/").concat(this.selectedBrewery.id);fetch(t).then((function(t){t.json().then((function(t){e.ratings=t}))})).catch((function(e){console.log(e)}))}},created:function(){this.user=this.$attrs.user,this.GetBreweries()}},st=nt,at=(r("aaea"),Object(u["a"])(st,Qe,Ye,!1,null,"beb3667a",null)),it=at.exports;n["default"].use(f["a"]);var ot=new f["a"]({mode:"history",base:"/",routes:[{path:"/accountUpdate",name:"accountUpdate",component:We,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/breweries/beerList/:id",name:"beerList",component:Ge,meta:{requiresAuth:!0}},{path:"/breweries/beerAdd",name:"beerAdd",component:E,meta:{requiresAuth:!0,isBrewer:!0}},{path:"/breweries/deleteBeer/:id",name:"deleteBeer",component:G,meta:{requiresAuth:!0,isBrewer:!0}},{path:"/breweries/beerInfo/:id",name:"beerInfo",component:W,meta:{requiresAuth:!0}},{path:"/breweries/breweryAdd",name:"breweryAdd",component:ee,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/breweries/viewRatings",name:"viewRatings",component:it,meta:{requiresAuth:!0}},{path:"/breweries/breweryInfo/:id",name:"breweryInfo",component:ie,meta:{requiresAuth:!0}},{path:"/breweries/breweryInfoUpdate/",name:"breweryInfoUpdate",component:fe,meta:{requiresAuth:!0,isBrewer:!0}},{path:"/breweries",name:"breweryList",component:xe,meta:{requiresAuth:!0}},{path:"/",name:"home",component:w,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:x,meta:{requiresAuth:!1}},{path:"/breweries/ratingsAndReviews/:id",name:"ratingsAndReviews",component:Ne,meta:{requiresAuth:!0}},{path:"/register",name:"register",component:N,meta:{requiresAuth:!1}}]});ot.beforeEach((function(e,t,r){var n=e.matched.some((function(e){return e.meta.requiresAuth})),s=i.getUser(),a=e.matched.some((function(e){return e.meta.isAdmin}));e.matched.some((function(e){return e.meta.isBrewer}));n&&!s?r("/login"):a&&"Admin"!==s.rol?(i.logout(),r("/login")):r()}));var ct=ot,ut=r("5f5b"),lt=r("b1e0"),dt=(r("f9e3"),r("2dd8"),r("8c60")),ft=r("1f1a");n["default"].use(dt["a"]),n["default"].use(ft["a"]),n["default"].use(ut["a"]),n["default"].use(lt["a"]),n["default"].config.productionTip=!1,new n["default"]({router:ct,render:function(e){return e(d)}}).$mount("#app")},"5e1f":function(e,t,r){"use strict";var n=r("6cc5"),s=r.n(n);s.a},"5ef4":function(e,t,r){"use strict";var n=r("68df"),s=r.n(n);s.a},"68df":function(e,t,r){},"6a22":function(e,t,r){"use strict";var n=r("f23c"),s=r.n(n);s.a},"6cc5":function(e,t,r){},"6dfa":function(e,t,r){var n={"./0-star.png":"2c0e","./1-star.png":"b584","./2-star.png":"127f","./3-star.png":"4ee9","./4-star.png":"419f","./5-star.png":"d3b6"};function s(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id="6dfa"},"7b71":function(e,t,r){"use strict";var n=r("81bf"),s=r.n(n);s.a},"81bf":function(e,t,r){},"8c6d":function(e,t,r){},"94f5":function(e,t,r){},9630:function(e,t,r){},"998b":function(e,t,r){"use strict";var n=r("12b2"),s=r.n(n);s.a},a519:function(e,t,r){},aaea:function(e,t,r){"use strict";var n=r("3644"),s=r.n(n);s.a},b584:function(e,t,r){e.exports=r.p+"img/1-star.0f84050e.png"},d3b6:function(e,t,r){e.exports=r.p+"img/5-star.0818964b.png"},e064:function(e,t,r){"use strict";var n=r("9630"),s=r.n(n);s.a},e3c0:function(e,t,r){},e60b:function(e,t,r){"use strict";var n=r("e3c0"),s=r.n(n);s.a},f23c:function(e,t,r){},f9e6:function(e,t,r){"use strict";var n=r("0d05"),s=r.n(n);s.a}});
//# sourceMappingURL=app.f84a7b78.js.map